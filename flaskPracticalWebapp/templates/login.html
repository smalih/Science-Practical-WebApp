{% extends 'base_login.html' %}
{% block content %}
  <h5 class="card-title text-center">Login</h5>
  {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }} mt-2">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
  <form class="form-signin" method="POST" action="">
    {{ form.hidden_tag () }}
    <div class="form-label-group">

      {% if form.email.errors %}
        {{ form.email(class="form-control is-invalid") }}
        <div class="invalid-feedback">
          {% for error in form.email.errors %}
            <span>{{ error }}</span>
          {% endfor %}
        </div>
      {% else %}
        {{ form.email(class="form-control") }}
      {% endif %}
      {{ form.email.label }}

    </div>


    <div class="form-label-group">

      {% if form.password.errors %}
        {{ form.password(class="form-control is-invalid") }}
        <div class="invalid-feedback">
          {% for error in form.password.errors %}
            <span>{{ error }}</span>
          {% endfor %}
        </div>
      {% else %}
        {{ form.password(class="form-control") }}
      {% endif %}
      {{ form.password.label }}
    </div>

    <div class="custom-control custom-checkbox mb-3">

      {{ form.remember_me(class="custom-control-input") }}
      {{ form.remember_me.label(class="custom-control-label") }}

    </div>
    {{ form.submit(class="btn btn-lg btn-primary btn-block text-uppercase") }}
    <div class="pt-3">
      <small class="text-muted">
         <a class="ml-2" href="{{ url_for('users.reset_request') }}">Forgot Password?</a>
      </small>
    </div>
    <div>
      <small class="text-muted">
        <a class="ml-2" href="{{ url_for('users.register') }}">Need an account?</a>
      </small>
    </div>
    <hr class="my-4">
    <button class="btn btn-lg btn-google btn-block text-uppercase" type="submit"><i class="fab fa-google mr-2"></i> Sign in with Google</button>
    <button class="btn btn-lg btn-facebook btn-block text-uppercase" type="submit"><i class="fab fa-facebook-f mr-2"></i> Sign in with Facebook</button>
  </form>
{% endblock content%}
